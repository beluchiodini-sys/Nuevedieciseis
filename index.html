<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>NUEVEDIECISEIS</title>
  <script src="https://cdn.jsdelivr.net/npm/qrious/dist/qrious.min.js"></script>
  <style>
    body { font-family: sans-serif; padding: 20px; background: #f4f6f8; }
    h2 { display: flex; justify-content: space-between; }
    table { width: 100%; border-collapse: collapse; background: #fff; box-shadow: 0 0 5px #ccc; }
    th, td { padding: 8px; border-bottom: 1px solid #ddd; text-align: center; }
    input, select, textarea { width: 90%; padding: 6px; margin-top: 4px; }
    button { padding: 6px 12px; margin: 5px; cursor: pointer; }
    canvas { margin-top: 5px; }
    .carpeta { margin-top: 20px; padding: 15px; background: #eef; border-radius: 8px; }
    .cronometro { font-weight: bold; color: #007700; font-size: 1.1em; }
    .resaltar-rojo { background-color: #ffcccc !important; }
    .resaltar-verde { background-color: #ccffcc !important; }
    .resaltar-amarillo { background-color: #ffffcc !important; }
    .editable-area { width: 100%; height: 500px; white-space: pre-wrap; background: #fff; border: 1px solid #ccc; padding: 10px; font-family: monospace; margin-top: 10px; }
  </style>
</head>
<body>
  <h2>NUEVEDIECISEIS <span id="reloj">‚è±</span></h2>
  <table id="tabla">
    <tr>
      <th>Equipo</th><th>Interno</th><th>Modelo</th><th>N¬∞ Base</th><th>Horas Base</th><th>Horas Actuales</th><th>Servicio</th><th>QR</th><th>Acci√≥n</th>
    </tr>
  </table>
  <button onclick="agregarFila()">Agregar fila</button>
  <div id="carpetas"></div>

  <script>
    const carpetas = {};
    const cronometrosActivos = {};

    const fichaOriginal = `RIGA 4742 ESTACION FLORES CORDOBA\n\nCP. :5000\nTEL. 3517726146\nCRISTIAN TABORDA@NUEVEDIECISEIS.COM.AR\n\nPLANILLA T√âCNICA\n\nEMPRESA:\nEQUIPO:\t\t\t\t\t\t\t\t\t\tINTERNO:\nMARCA MODELO:\t\t\t\t\t\t\t\t\tPATENTE:\nHORAS/KM:\nN. DE SERIE:\n\nMOTOR\nITEM\tDESCRIPCI√ìN\tMARCA/MODELO\tCANTIDAD\n1\tACEITE\t\t\t\n2\tFILTRO ACEITE\t\t\t\n3\tFILTRO COMBUSTIBLE\t\t\t\n4\tFILTRO COMBUSTIBLE\t\t\t\n5\tFILTRO DE AIRE\t\t\t\n6\tFILTRO DE AIRE\t\t\t\n7\tCORREAS\t\t\t\n8\tREFRIGERANTE\t\t\t\n9\t\t\t\t\n10\t\t\t\t\n\nTRANSMISI√ìN\n1\t\t\t\t\n2\t\t\t\t\n3\t\t\t\t\n4\t\t\t\t\n5\t\t\t\t\n6\t\t\t\t\n7\t\t\t\t\n8\t\t\t\t\n9\t\t\t\t\n10\t\t\t\t\n\nHIDR√ÅULICO\n1\t\t\t\t\n2\t\t\t\t\n3\t\t\t\t\n4\t\t\t\t\n5\t\t\t\t\n6\t\t\t\t\n7\t\t\t\t\n8\t\t\t\t\n9\t\t\t\t\n10\t\t\t\t\n\nNEUM√ÅTICO\n1\t\t\t\t\n2\t\t\t\t\n3\t\t\t\t\n4\t\t\t\t\n5\t\t\t\t\n6\t\t\t\t\n7\t\t\t\t\n8\t\t\t\t\n9\t\t\t\t\n10\t\t\t\t\n\nEL√âCTRICO\n1\t\t\t\t\n2\t\t\t\t\n3\t\t\t\t\n4\t\t\t\t\n5\t\t\t\t\n6\t\t\t\t\n7\t\t\t\t\n8\t\t\t\t\n9\t\t\t\t\n10\t\t\t\t\n\nTREN RODANTE\n1\t\t\t\t\n2\t\t\t\t\n3\t\t\t\t\n4\t\t\t\t\n5\t\t\t\t\n6\t\t\t\t\n7\t\t\t\t\n8\t\t\t\t\n9\t\t\t\t\n10\t\t\t\t\n\nELEMENTOS DE DESGASTE\n1\t\t\t\t\n2\t\t\t\t\n3\t\t\t\t\n4\t\t\t\t\n5\t\t\t\t\n6\t\t\t\t\n7\t\t\t\t\n8\t\t\t\t\n9\t\t\t\t\n10\t\t\t\t\n\nCABINA\n1\t\t\t\t\n2\t\t\t\t\n3\t\t\t\t\n4\t\t\t\t\n5\t\t\t\t\n6\t\t\t\t\n7\t\t\t\t\n8\t\t\t\t\n9\t\t\t\t\n10\t\t\t\t\n\nCHASIS\n1\t\t\t\t\n2\t\t\t\t\n3\t\t\t\t\n4\t\t\t\t\n5\t\t\t\t\n6\t\t\t\t\n7\t\t\t\t\n8\t\t\t\t\n9\t\t\t\t\n10\t\t\t\t\n\nVARIOS\n1\t\t\t\t\n2\t\t\t\t\n3\t\t\t\t\n4\t\t\t\t\n5\t\t\t\t\n6\t\t\t\t\n7\t\t\t\t\n8\t\t\t\t\n9\t\t\t\t\n10\t\t\t\t\n`;

    function mostrarCarpeta(id) {
      const datos = carpetas[id];
      const div = document.createElement("div");
      div.className = "carpeta";
      div.innerHTML = `
        <h3>üìÅ Carpeta: ${id}</h3>
        <p><strong>Equipo:</strong> ${datos.equipo}</p>
        <p><strong>Interno:</strong> ${datos.interno}</p>
        <p><strong>Modelo:</strong> ${datos.modelo}</p>
        <p><strong>N¬∞ Base:</strong> ${datos.base}</p>
        <p><strong>Horas Base:</strong> ${datos.horasBase}</p>
        <p><strong>Servicio:</strong> ${datos.servicio}</p>
        <p><strong>Horas Actuales:</strong> <span id="cron_${id}" class="cronometro">00:00:00</span></p>
        <textarea id="txt_${id}" placeholder="Escribir acci√≥n..."></textarea>
        <button onclick="guardarAccion('${id}')">üíæ Guardar acci√≥n</button>
        <button onclick="descargarDocumento('${id}')">üì• Descargar documento</button>
        <button onclick="eliminarCarpeta('${id}')">üóëÔ∏è Eliminar carpeta</button>
        <ul id="hist_${id}"></ul>
        <textarea id="ficha_${id}" class="editable-area">${fichaOriginal}</textarea>
      `;
      document.getElementById("carpetas").appendChild(div);
      iniciarCronometro(id, datos.creado);
      actualizarHistorial(id);
    }
  </script>
</body>
</html>
